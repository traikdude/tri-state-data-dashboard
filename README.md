# ğŸš€ Tri-State Data Dashboard

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Apps Script](https://img.shields.io/badge/Apps%20Script-V8-green.svg)
![Python](https://img.shields.io/badge/Python-3.7+-yellow.svg)

**Production-ready Google Workspace integration: Python â†’ Apps Script â†’ Sheets â†’ Dashboard**

## ğŸ¯ What Is This?

A complete full-stack solution that connects Python data processing to a real-time Google Sheets dashboard, embeddable in Google Sites.

## âœ¨ Features

- ğŸ“Š **Live Dashboard** - Auto-refreshing data visualization
- ğŸ”’ **Thread-Safe** - LockService prevents concurrent write conflicts
- ğŸ”„ **Retry Logic** - Exponential backoff for reliable data submission
- âš¡ **Fast Deployment** - CLASP CLI for version-controlled deployments
- ğŸ“± **Responsive UI** - Mobile-friendly dashboard design
- ğŸ§ª **Built-in Tests** - Comprehensive test suite included

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     POST      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Python/Colabâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Apps Script API  â”‚
â”‚  (Processing)â”‚               â”‚  (Backend)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚ Write
                                        â–¼
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ Google Sheets    â”‚
                               â”‚  (Database)      â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚ Read
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Embed        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Google Sites â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  HTML Dashboard  â”‚
â”‚  (Hosting)   â”‚               â”‚  (Frontend)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ Prerequisites

- Google Account with Drive access
- Node.js 14+ and npm
- Git
- Python 3.7+ (for Colab integration)

## âš¡ Quick Start (5 Minutes)

```bash
# 1. Clone repository
git clone https://github.com/your-username/tri-state-data-dashboard.git
cd tri-state-data-dashboard

# 2. Install CLASP globally
npm install -g @google/clasp

# 3. Login to Google
clasp login

# 4. Create Apps Script project
cd apps-script
clasp create --title "Tri-State Dashboard" --type standalone

# 5. Push code
clasp push

# 6. Deploy
clasp deploy --description "Production v1.0"
# Copy the Web App URL from output!
```

## ğŸ”§ Configuration

### Apps Script
The `.clasp.json` file is auto-generated by `clasp create`. It contains your Script ID.

### Python/Colab
Set your Web App URL as a Colab Secret:
1. Click ğŸ”‘ Secrets icon in Colab
2. Add: `GAS_WEBAPP_URL` = your Web App URL
3. Toggle "Notebook access" ON

## ğŸ“– Usage

### Python Data Submission
```python
from python.colab_integration import GASClient, Config

# Initialize
client = GASClient(Config.get_webapp_url())

# Send data
result = client.post_data({
    "id": 101,
    "result": "Processing complete",
    "score": 95.5
})
```

### Dashboard Access
- **Direct**: Open Web App URL in browser
- **Embedded**: Insert in Google Sites via Embed > From web

## ğŸ§ª Testing

Run the built-in test suite:
```bash
clasp run testDeployment
```

Expected output:
```
[TEST SUITE RESULTS]
âœ“ Test 1: Sheet operations - PASSED
âœ“ Test 2: doGet HTML generation - PASSED
âœ“ Test 3: doPost valid payload - PASSED
âœ“ Test 4: doPost error handling - PASSED
âœ“ Test 5: getDataForFrontend - PASSED

Overall: 5/5 tests passed
```

## ğŸ› Troubleshooting

| Issue | Solution |
|-------|----------|
| 302 Redirect | Use `/exec` URL, not `/dev` |
| Authorization required | Run function manually first to authorize |
| Dashboard blank | Check `Processed_Data` sheet exists |
| Connection timeout | Verify Web App is deployed and accessible |

See [docs/TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md) for detailed solutions.

## ğŸ“ Project Structure

```
tri-state-data-dashboard/
â”œâ”€â”€ apps-script/          # Google Apps Script code
â”‚   â”œâ”€â”€ Code.gs           # Backend API
â”‚   â”œâ”€â”€ Index.html        # Dashboard UI
â”‚   â””â”€â”€ Tests.gs          # Test suite
â”œâ”€â”€ python/               # Python integration
â”‚   â””â”€â”€ colab_integration.py
â”œâ”€â”€ docs/                 # Documentation
â”‚   â”œâ”€â”€ SETUP.md
â”‚   â”œâ”€â”€ DEPLOYMENT.md
â”‚   â””â”€â”€ ARCHITECTURE.md
â””â”€â”€ examples/             # Sample data
```

## ğŸ¤ Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

## ğŸ“„ License

This project is licensed under the MIT License - see [LICENSE](LICENSE) file.

## ğŸ™ Acknowledgments

- Google Apps Script team for the platform
- CLASP developers for CLI tooling
- The open-source community

---

**Made with â¤ï¸ for the Google Workspace ecosystem**
